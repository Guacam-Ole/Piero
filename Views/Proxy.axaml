<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Piero.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:Piero.Models"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="450"
        x:Class="Piero.Views.Proxy"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="Piero:DaVinci Resolve Proxy"
        TransparencyLevelHint="AcrylicBlur"

        ExtendClientAreaToDecorationsHint="True">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel />
    </Design.DataContext>

    <Panel Margin="20">
        <DataGrid CanUserResizeColumns="True" ItemsSource="{Binding FilesToConvert}" AutoGenerateColumns="False">
            <DataGrid.Columns>
                <DataGridTemplateColumn IsReadOnly="True">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate DataType="models:VideoFile">
                            <Label FontWeight="600"
                                   ToolTip.Tip="{Binding Path=MainVideoConversionState, StringFormat=Video conversion: \{0\}}"
                                   Foreground="{Binding MainProgressColor}" Content="{Binding MainProgressIcon}">
                            </Label>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn IsReadOnly="True">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate DataType="models:VideoFile">
                            <Label
                                ToolTip.Tip="{Binding Path=ProxyConversionState, StringFormat=Proxy conversion: \{0\}}"
                                Foreground="{Binding ProxyProgressColor}" Content="{Binding ProxyProgressIcon}">
                            </Label>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn MinWidth="150" Width="Auto" IsReadOnly="True" Header="Filename" Binding="{Binding FileName}"
                                    CanUserResize="True" Foreground="LightGray"
                                    >
                </DataGridTextColumn>
                <DataGridTextColumn  Width="*" 
                    CanUserResize="True" IsReadOnly="True" Header="Path" Binding="{Binding FilePath}" Foreground="LightGray">
                </DataGridTextColumn>
            </DataGrid.Columns>


        </DataGrid>

        <!-- <ListBox ItemsSource="{Binding FilesToConvert}"   -->
        <!--          Margin="0 10"> -->
        <!--      -->
        <!--     <ListBox.ItemsPanel > -->
        <!--           -->
        <!--     </ListBox.ItemsPanel> -->
        <!--     <ItemsControl.ItemTemplate> -->
        <!--         <DataTemplate> -->
        <!--             <Label  Margin="0 0" Foreground="{Binding ForegroundColor}"  Height="20" Content="{Binding FileName}"></Label> -->
        <!--         </DataTemplate> -->
        <!--     </ItemsControl.ItemTemplate> -->
        <!-- </ListBox> -->


    </Panel>
    <!-- <TextBlock Text="{Binding Greeting}" HorizontalAlignment="Center" VerticalAlignment="Center"/> -->

</Window>